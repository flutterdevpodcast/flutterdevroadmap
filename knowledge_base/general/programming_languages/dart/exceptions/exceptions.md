# Исключения и ошибки
[На главную](../dart.MD)

## Ключевые ресурсы
> - https://dart.dev/guides/language/language-tour#exceptions (EN) - документация по исключениям
> - https://api.dart.dev/stable/2.7.2/dart-core/Exception-class.html (EN) - документация по классу Exception
> - https://api.dart.dev/stable/2.7.2/dart-core/Error-class.html (EN) - документация по классу Error

## Об исключениях
В ходе работы программы могут возникать непредвиденные ситуации.
Например деление на ноль, выход за пределы массива, передача неправильных параметров в функцию,
отключение интернета от устройства и тд. Программа должна предвидеть такие ситуации и уметь их
обрабатыват. Для этого в языке Dart существуют обработчики ошибок. 

## Обработчики ошибок
### try catch
Чтобы попытаться отловить ошибку, потенциально опасный код помещают в блок `try`.
Если в нем происходит исключение, программа переходит в блок catch и обрабатывает
ошибку, которая по мнению программиста тут может произойти.

![try](exception_sample_1.png)

Если в блоке обработки исключения необходимо заполучить объект ошибки, необходимо использовать
ключевое слово `catch`

![try catch](exception_sample_2.png)

Иногда необходимо обрабатывать сразу несколько ошибок в одном `try` блоке.

![multiple catch](exception_sample_3.png)

### finally
Иногда в блоке try возникают исключения, которые не отловили в catch. Тогда программа вылетает с ошибкой.
Чтобы при вылете из программы сохранить пользовательские данные, удобно использовать ключевое слово
`finally`. Оно выполняется в любом случае, даже если произошла ошибка.

![multiple catch](exception_sample_3.1.png)

## Проброс исключений
Помимо обработки исключений, в Dart их можно создавать с помощью ключевого слова `throw`

![throw](exception_sample_4.png)

### rethrow
Когда необходимо пробросить ошибку наверх, но частично обработать в том месте, где она возникла,
можно использовать ключевое слова `rethrow`

![throw](exception_sample_5.png)

## Пользовательские исключения
В Dart существует два основых вида исключений:
- `Error` - это ошибки кода. Они возникают, когда код используется неправильным образом.
Например при передачи данных в функцию, передается неверный тип данных.
- `Exception` - это ошибки, возникшие во время выполнения программы. 

Пример с `Exception`
![custom exception](exception_sample_6.png)

Пример с `Error`

![custom exception](exception_sample_7.png)

## Исходники
[exceptions.dart](exceptions.dart)